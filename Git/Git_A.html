<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
		<title>Git入門 - Gitとは -</title>
		<link rel="stylesheet" type="text/css" href="../Common/style.css">
	</head>
	<body>
		<div id="page">
			<header>
				<h1><a href="../index.html">無駄知識置き場</a></h1>
			</header>
			<div id="main">
				<article>
					<h2>Git入門 - Gitとは -</h2>
					<p><a href="./Git_Outline.html">↶記事一覧へ戻る</a></p>
					<p><a href="./Git_B.html">→次の記事へ移動する</a></p>
					<section>
						<h3>バージョン管理システムとは</h3>
						<p class="indent">特定のファイルを変更したときに、ファイルを上書き保存せず、名前を付けて別のファイルとして保存することで、ファイルを変更した後に何らかの不具合が起きた場合、ファイルを変更前の状態に戻すことができます。以下の例では、変更した際の年月日をファイル名に含めることで、変更履歴を管理しています。</p>
						<code class="block">
							files<br>
							┣━ file_20200101.txt<br>
							┣━ file_20200127.txt<br>
							┣━ file_20200214.txt<br>
							┣━ file_20200306.txt<br>
							┗━ file_20200325.txt
						</code>
						<p class="indent">しかし、このような方法では、ファイルに変更を行うごとにファイルの数が増えてしまい、管理が煩雑になってしまいます。これを回避するべく考案されたのが、バージョン管理システムです。</p>
						<p class="indent">バージョン管理システムは、ファイルの名前はそのままに、ファイルの変更履歴を管理してくれます。変更履歴には、日時はもちろん、誰が、どこを、どのように変更したかが含まれます。これにより、バージョン間の比較がとても簡単になり、過去のバージョンに戻すことも容易になります。</p>
						<p class="indent">Gitを導入すれば、このようなバージョン管理を簡単に実現することができます。では、その仕組みについて詳しく見ていきます。</p>
					</section>
					<section>
						<h3>Gitの仕組み</h3>
						<p>Gitを使用する際は、</p>
						<ol>
							<li>リモートリポジトリをローカルリポジトリに複製（クローン）する</li>
							<li>ユーザのコンピュータのディレクトリ（ワークツリー）上で作業する</li>
							<li>作業済みのファイルをインデックスに登録（アド）する</li>
							<li>インデックスの内容をローカルリポジトリに保存（コミット）する</li>
							<li>ローカルリポジトリの内容をリモートリポジトリに共有する（プッシュ）する</li>
						</ol>
						<p>という流れが基本となります。特有の用語が並んでいて良く分からないと思うので、ひとつずつ見ていきましょう。</p>
						<section>
							<h4>クローンとは</h4>
							<p class="indent">バージョン管理システムにおいて、ファイル自体や、その変更履歴を管理する場所のことを「リポジトリ」といいます。中でも、インターネット上で管理するリポジトリを「リモートリポジトリ」といいます。リモートリポジトリは、インターネット上で管理しているため、全世界の誰もがアクセスできます。</p>
							<p class="indent">しかし、全世界の誰もがリモートリポジトリのファイルを一斉に変更すると、競合などの理由で不具合が起きる可能性があります。そこで、Gitでは、「ローカルリポジトリ」という概念を導入することで、不具合を回避しています。</p>
							<p class="indent">ローカルリポジトリは、ユーザのコンピュータ上で管理するリポジトリのことです。リモートリポジトリのファイルを変更する場合は、リモートリポジトリをローカルリポジトリに複製します。この作業を「クローン」といいます。そして、クローンしたローカルリポジトリのデータを元に、ファイルの変更を行います。こうすることで、リモートリポジトリには何の影響も与えずにファイルの編集ができます。また、ローカルリポジトリは文字通りローカルに保存されているため、ファイルの変更作業はインターネットが接続できない環境でも行えます。</p>
						</section>
						<section>
							<h4>コミットとは</h4>
							<p class="indent">ユーザがファイルの変更作業を行うディレクトリを「ワークツリー」といいます。ワークツリー上での作業を終えたら、変更したファイルをローカルリポジトリに保存します。この作業を「コミット」といいます。しかし、変更したファイルをその都度ひとつずつコミットしていては、ミスが増えますし、効率が良くありません。そこで、変更した複数のファイルをまとめてコミットできるように、「インデックス」という領域が設けられています。インデックスは、ワークツリーとローカルリポジトリとの間に設けられた領域です。変更したファイルは、インデックスへ登録しておく必要があります。この作業を「アド」といいます。ワークツリー上での作業を終えたら、インデックスへアドして、インデックスのファイルをローカルリポジトリにコミットします。こうすることで、変更したファイルのコミットを忘れたり、逆に変更していないファイルまでコミットしてしまったりすることを防げます。</p>
						</section>
						<section>
							<h4>プッシュとは</h4>
							<p class="indent">すべての作業を終えたローカルリポジトリを、いよいよリモートリポジトリに共有します。この作業を「プッシュ」といいます。これで、ユーザが変更した内容が、リモートリポジトリに反映されます。</p>
							<p class="indent">しかし、全世界の誰もが同じファイルを一斉にプッシュしてしまうと、結局競合などの理由で不具合が起きる可能性があります。そこで、Gitはそれを回避するための様々な機能を用意しています。</p>
							<p class="indent">まずは、「ブランチ」です。ブランチは、ファイルの変更履歴を分岐させて記録していく機能のことです。複数のユーザが並行して変更作業をしたとしても、それぞれが「マスターブランチ」と呼ばれるメインのブランチとは別のブランチに記録することで、ファイルの競合を避けることができます。こうしてできたばらばらのブランチをマスターブランチにまとめて、完成形に近づけることを「マージ」といいます。</p>
							<p class="indent">他にも、リモートリポジトリに保存されているファイルの内、ローカルリポジトリに無いファイルや、他のユーザが更新したファイルのみを取得できる「プル」という機能や、リモートリポジトリからファイルの最新情報を取得できる「フェッチ」という機能があります。これらの機能を組み合わせることで、グループでの変更作業が行いやすくなっているのです。</p>
						</section>
					</section>
					<section>
						<h3>まとめ</h3>
						<p>改めて書きますが、Gitを使用する際は、</p>
						<ol>
							<li>リモートリポジトリをローカルリポジトリに複製（クローン）する</li>
							<li>ユーザのコンピュータのディレクトリ（ワークツリー）上で作業する</li>
							<li>作業済みのファイルをインデックスに登録（アド）する</li>
							<li>インデックスの内容をローカルリポジトリに保存（コミット）する</li>
							<li>ローカルリポジトリの内容をリモートリポジトリに共有する（プッシュ）する</li>
						</ol>
						<p>という流れが基本です。この流れをきちんと把握できているだけで、後の学習がとても楽になると思います。</p>
					</section>
					<p><a href="./Git_B.html">→次の記事へ移動する</a></p>
					<p><a href="./Git_Outline.html">↶記事一覧へ戻る</a></p>
				</article>
			</div>
			<aside>
				<a href="https://www.instagram.com/pippoteru/" target="_blank" rel="noopener noreferrer"><img src="../Common/pippoteru_qr.png"></a>
				<details id="toc" open>
					<summary class="toc-title">目次</summary>
				</details>
			</aside>
			<footer>
				<p>&copy; Pippo 2023</p>
			</footer>
		</div>
		<script src="../Common/toc.js"></script>
	</body>
</html>
